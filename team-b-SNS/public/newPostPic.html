<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>新規投稿</title>

 <link href="css/logo.css" rel="stylesheet" />

  <!-- BootstrapのCSS読み込み -->
  <link href="css/bootstrap.css" rel="stylesheet">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <!-- style.cssの読み込み -->
  <!-- <link href="css/style.css" rel="stylesheet"> -->


  <!-- jQuery読み込み -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <!-- BootstrapのJS読み込み -->
  <script src="js/bootstrap.min.js"></script>


  <!-- update the version number as needed -->
  <!-- <script defer src="/__/firebase/5.5.7/firebase-app.js"></script> -->
  <!-- include only the Firebase features as you need -->
  <!-- <script defer src="/__/firebase/5.5.7/firebase-auth.js"></script>
  <script defer src="/__/firebase/5.5.7/firebase-database.js"></script>
  <script defer src="/__/firebase/5.5.7/firebase-messaging.js"></script>
  <script defer src="/__/firebase/5.5.7/firebase-storage.js"></script> -->
  <!-- initialize the SDK after all desired features are loaded -->
  <!-- <script defer src="/__/firebase/init.js"></script> -->

 <!-- 1月17日　田中先生にて修正 -->
  <script src="https://www.gstatic.com/firebasejs/5.5.7/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.5.7/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.5.7/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.5.7/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.5.7/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.5.7/firebase-messaging.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.5.7/firebase-functions.js"></script>





  <style media="screen">
    body { background: white; color: rgba(0,0,0,0.87); font-family: Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 0; }
      #message { background: white; max-width: 360px; margin: 100px auto 16px; padding: 32px 24px; border-radius: 3px; }
      #message h2 { color: #ffa100; font-weight: bold; font-size: 16px; margin: 0 0 8px; }
      #message h1 { font-size: 22px; font-weight: 300; color: rgba(0,0,0,0.6); margin: 0 0 16px;}
      #message p { line-height: 140%; margin: 16px 0 24px; font-size: 14px; }
      #message a { display: block; text-align: center; background: #039be5; text-transform: uppercase; text-decoration: none; color: white; padding: 16px; border-radius: 4px; }
      #message, #message a { box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); }
      #load { color: rgba(0,0,0,0.4); text-align: center; font-size: 13px; }
      @media (max-width: 600px) {
        body, #message { margin-top: 0; background: white; box-shadow: none; }
        /* body { border-top: 16px solid #ffa100; } */
      }
    </style>

  <style>
    .imagePreview {
            width: 100%;
            height: 200px;
            background-position: center;
            background-repeat: no-repeat;
            background-size: contain;
            -webkit-box-shadow: 0 0 1px 1px rgba(0, 0, 0, .3);
            display: inline-block;
        }
    </style>

</head>

<body onload="LoadProc();">
  <header class="sticky-top mb-2 bg-white">
    <!-- 親（ここではheaderタブ）にかかるデフォルトの左右の余白をこのdivに当ててその下のrowにかからないようにするために入れている。 -->
    <div class="col-12">　
      <div class="row align-items-end">
        <div id="logo-space" class="col-6  text-left">
          <img class="pc" src="img/logo_2.svg" alt="パソコン用の画像">
          <img class="sp" src="img/logo.svg" alt="スマートフォン用の画像">
        </div>

        <div id="title-space" class="col-6 text-right ">
          <span class="">新規投稿</span>
        </div>
      </div>
    </div>
    <hr class="mw-100  bg-light my-4">
  </header>


<!-- 新規投稿ー①イベント・#タグ・②画像選択 -->
  <div class="container-fluid pb-3 text-center" style="margin-bottom:100px;">
    <div class="container-fluid my-3">
      <h3 class="text-center">① 投稿するイベントを選択し、#タグを１つ選択してください。</h3>
    </div>

    <!-- タブ部分 イベント名称-->　
      <!-- ここの .nav-tabs から選択されたイベントを抽出して下部の確認画面へ反映 -->
    <ul id="tabMenu" class="nav nav-tabs text-center"> 　
      <li class="nav-item">
        <a href="#event_1" id="tab_1" class="nav-link active" role="tab" data-toggle="tab" aria-controls="event_1" aria-selected="true">ハロウィン</a>
      </li>
      <li class="nav-item">
        <a href="#event_2" id="tab_2" class="nav-link" role="tab" data-toggle="tab" aria-controls="event_2" aria-selected="false">クリスマス</a>
      </li>
      <li class="nav-item">
        <a href="#event_3" id="tab_3" class="nav-link" role="tab" data-toggle="tab" aria-controls="event_3" aria-selected="false">お正月</a>
      </li>
    </ul>

    <!-- タブのコンテンツ部分 -->
    <!-- 　ここの .tab-contentで選択された#タグを抽出して下部の確認画面へ反映 -->
    <div id="myTabContent" class="tab-content mt-3 container-fluid">

      <!-- １つ目のイベント -->
      <div id="event_1" class="tab-pane active" role="tabpanel" aria-labelledby="event_1-tab">
        <!-- ＃タグのボタン -->
        <div class="container-fluid">
            <div class="btnEvents btnEvent_1">
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#コスプレ</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#魔女</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#渋ハロ</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#かぼちゃ</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#準備大変！</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#コウモリ</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#ドンキホーテ</button>
            </div>
            <hr class="mw-100 mb-3 w-90 bg-gradient-light">
          </div>
          </div>

      <!-- ２つ目のイベント -->
      <div id="event_2" class="tab-pane" role="tabpanel" aria-labelledby="event_2-tab">
        <!-- ＃タグのボタン -->
        <div class="container-fluid">
            <div class="btnEvents btnEvent_2">
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#サンタ</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#ツリー</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#プレゼント</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#雪</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#イルミネーション</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#イブ</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#セブンのケーキ</button>
            </div>
            <hr class="mw-100 mb-3 w-90 bg-gradient-light">
          </div>
        </div>

      <!-- 3つ目のイベント -->
      <div id="event_3" class="tab-pane" role="tabpanel" aria-labelledby="event_3-tab">
        <!-- ＃タグのボタン -->
        <div class="container-fluid">
            <div class="btnEvents btnEvent_3">
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#鏡餅</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#お年玉</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#おせち</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#初詣</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#駅伝</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#お正月ライブ</button>
              <button type="button" name="button" id="" class="btn-sm btn-outline-primary shadow-sm m-1">#福袋</button>
            </div>
            <hr class="mw-100 mb-3 w-90 bg-gradient-light">
          </div>
        </div>

    </div><!-- タブのコンテンツ部分　終わり -->

    <!-- 画像選択とプレビュー表示 -->
    <div class="container-fluid mt-5 mb-3 text-center">
      <h3 class=" my-3">② 投稿する画像を選択してください。</h3>

      <div class="container-fluid">
        <div class="mx-auto" style="width:300px">
          <form action="" method="post" enctype="multipart/form-data">
            <div id="postImagePreview" class="imagePreview"></div>
            <div class="input-group">
              <label class="input-group-btn">

                  <span class="btn btn-primary">
                      ファイルを選択
                      <input type="file" name="file" id="postPic" style="display:none" class="uploadFile">
                    </span>
              </label>
              <input type="text" class="form-control" readonly="">
            </div>
          </form>
        </div>
      </div>
    </div> <!-- 画像選択とプレビュー表示 終わり-->

    <hr class="mw-100  bg-light my-4">

    <div class="row">

      <a href="timeline.html">
        <div class=" col-6 text-right">
          <button id="cancelBtn" type="button" class="btn btn-secondary" style="width:100px">キャンセル</button>
        </div>
      </a>

      <a href="postEditDelete.html">
        <div class=" col-6 text-left">
          <button id="forwardBtn" type="button" class="btn btn-primary" style="width:100px">次へ</button>
        </div>
      </a>

    </div><!-- 新規投稿ー①イベント・#タグ・②画像選択 終わり-->


<!-- ここから、class="d-none"　にする -->
<!-- 新規投稿ー③　コメント投稿 -->　
<div class="container-fluid my-3">
  <h3 class="text-center">③ 投稿するコメントを作成してください。</h3>
  <div class="text-center d-flex align-items-center mw-100 mb-3">
    <textarea id="exampleTextarea" cols="30" rows="5" class="form-control mx-auto" placeholder="free" autofocus="" style="width:90%">
    </textarea>
  </div>
</div>　<!-- 新規投稿ー③　コメント投稿 終わり-->

<hr class="mw-100  bg-light my-4">

<!-- 投稿内容　全体　の確認 -->
<div class="row container-fluid m-0 text-center">

  <!-- 投稿内容　イベント・タグ　の確認 -->
  <div class="col-sm-5">

    <div class="card border-primary mb-3">
      <div class="card-header p-1">投稿イベント</div>
      <div class="card-body text-primary p-1">
        <!-- <p class="card-title m-0" id="eventSelected">クリスマス</p> -->
        <p class="card-title m-0" id="eventSelected">
          </p>

      </div>
    </div>

    <div class="card border-primary mb-3">
      <div class="card-header p-1">選択したタグ</div>
      <div class="card-body text-primary p-1">
        <!-- <input class="card-title m-0" id="tagSelected"> -->
        <p class="card-title m-0" id="tagSelected">
          </p>

      </div>
    </div>

  </div>  <!-- 投稿内容　イベント・タグ　の確認 終わり-->




　<!-- 投稿内容　画像の確認 -->
  <div class="col-sm-7 container-fluid mb-3 mx-auto" style="width:500px">
        <!-- <form action="" method="post" enctype="multipart/form-data"> -->
          <div id="postImagePreviewCopy" class="imagePreview d-none"></div>
          <!-- <div class="input-group">
            <label class="input-group-btn">
              <span class="btn btn-primary">
                Choose File<input type="file" style="display:none" class="uploadFile">
              </span>
            </label>
            <input type="text" class="form-control" readonly="">
          </div>
        </form> -->
  </div>　<!-- 投稿内容　画像の確認　終わり　-->



</div>　<!-- 投稿内容　全体　の確認 -->

<div class="row">
<div class=" col-6 text-right">
  <button id="cancelBtn" type="button" class="btn btn-secondary" style="width:100px">戻る</button>
</div>
<div class=" col-6 text-left">
  <button id="postBtn" type="button" class="btn btn-primary" style="width:100px">投稿</button>
</div>
</div>

現在の時刻:
   <div id="DateTimeDisp"></div>


</div>　


</div>　
<!-- class="d-none"　終わり -->


  <footer class="fixed-bottom bg-white pb-2">
    <hr class="mw-100 bg-light">
    <div class="col-12">
      <div class="row">
        <!-- ホームアイコン -->
        <div id="timeLine" class="col-6 text-center">
          <a href="timeLine.html">
            <img id="timeLineIcon" src="img/home_icon.svg" style="width: 40px;" />
          </a>
        </div>
        <!-- 新規投稿アイコン -->
        <div id="newPost" class="col-4 text-center d-none">
          <a href="newPostPic.html">
            <img id="newPostIcon" src="img/newPost_icon.svg" style="width: 40px;" />
          </a>
        </div>
        <!-- マイページアイコン -->
        <div id="myPage" class="col-6 text-center">
          <a href="myPage.html">
            <img id="myPageIcon" src="img/myPage_icon.svg" style="width: 40px;" />
          </a>
        </div>
      </div>
    </div>
  </footer>

  <script src="js/apiConfig.js"></script>
  <script src="js/newPost.js"></script>


  <!-- <script src="https://www.gstatic.com/firebasejs/5.5.8/firebase.js"></script> -->
  <!-- <script>
    var config = {
      apiKey: "AIzaSyAxNVDXIAHlDF3VC_QGPzBCkqxZs3b_zHA",
      authDomain: "team-b-sns.firebaseapp.com",
      databaseURL: "https://team-b-sns.firebaseio.com",
      projectId: "team-b-sns",
      storageBucket: "team-b-sns.appspot.com",
      messagingSenderId: "895377669050"
    };
    firebase.initializeApp(config);
  </script> -->

  <!-- 画像プレビューのJS -->
  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> -->
  <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script> -->
  <script>
    $(document).on('change', ':file', function() {
      var input = $(this),
        numFiles = input.get(0).files ? input.get(0).files.length : 1,
        label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
      input.parent().parent().next(':text').val(label);

      var files = !!this.files ? this.files : [];
      if (!files.length || !window.FileReader) return; // no file selected, or no FileReader support
      if (/^image/.test(files[0].type)) { // only image file
        var reader = new FileReader(); // instance of the FileReader
        reader.readAsDataURL(files[0]); // read the local file
        reader.onloadend = function() { // set image data as background of div
          input.parent().parent().parent().prev('.imagePreview').css("background-image", "url(" + this.result + ")");
        }
      }
    });
  </script>   <!-- 画像プレビューのJS 終わり-->

<!-- cloneで画像プレビューを複製するJS -->
<!-- <script>
    $(function(){
    　　$(‘#postImagePreview‘).clone().appendTo($(‘#postImagePreviewCopy‘));
    });
    </script>　 -->
    <!-- cloneで画像プレビューを複製するJS 終わり-->

  <!-- #タグのボタンのON と　OFF　の切り替え -->
  <script>
      $(".btnEvents button").click(function(){
      $('.btnEvents button').removeClass('active');
      $(this).addClass('active');
    });
  </script>


<!-- 選択されたtabと#タグを取得する -->
<script>
  $(".nav-tabs a").click( tabClicked );
    function tabClicked (e) {
        //ここにクリックされたときの処理を書きます
        e.preventDefault();
        // alert(e.target.innerText);
        // alert( $(e.target).attr("href") );
        var eventHref = $(e.target).attr("href"); //選択したイベントのhrefを取得
        var postEvent = (e.target.innerText);//選択したイベントのタイトルを取得

        console.log(eventHref);
        console.log(postEvent);    

        $('#eventSelected').text(postEvent); //選択したイベントのタイトルを反映
        $('#tagSelected').text(""); //イベントのtabを押したら、#タグの値がリセットされる

    }
</script>

<script>
    $(".tab-content button").click( tagClicked );
      function tagClicked (e) {
          //ここにクリックされたときの処理を書きます
          e.preventDefault();
          // alert(e.target.innerText);
          // alert( $(e.target).attr("href") );
          var postTag = (e.target.innerText);//選択した#タグを取得
  
          console.log(postTag);    
  
          $('#tagSelected').text(postTag); //選択した#タグを反映
      }
  </script>
  

  <script>
  //  現在の日時の取得
  var now = new Date();
  function LoadProc() {
    var target = document.getElementById("DateTimeDisp");

    var Year = now.getFullYear();
    var Month = now.getMonth()+1;
    var Date = now.getDate();
    var Hour = now.getHours();
    var Min = now.getMinutes();
    var Sec = now.getSeconds();

    target.innerHTML = Year + "年" + Month + "月" + Date + "日" + Hour + ":" + Min + ":" + Sec;

    console.log(target.innerHTML);
  }
</script>

<script src="js/newPost.js"></script>



</body>

</html>